/* 
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
/**
 * Author:  Ste2016
 * Created: 19-set-2017
 */

-- Credenziali DB : --
-- Psw: 2017 --
-- Us: amm --

-- DATABASE Nerdbook;

CREATE TABLE utenti(
	id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	nome VARCHAR(256),
	cognome VARCHAR(256),
	eMail VARCHAR(256),
	dataDiNascita VARCHAR(256),
	urlFoto VARCHAR(256),
	frase VARCHAR(256),
	password VARCHAR(256)
);

CREATE TABLE gruppi(
	id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	nome VARCHAR(256),
	urlFoto VARCHAR(256)
);



CREATE TABLE posts(
	id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	autore INTEGER,
	bacheca_ut INTEGER,
	gruppo INTEGER,
	contenuto VARCHAR(1024),
	tipo INTEGER,
	allegato VARCHAR(256),
	FOREIGN KEY (autore) REFERENCES utenti(id),
	FOREIGN KEY (bacheca_ut) REFERENCES utenti(id),
	FOREIGN KEY (gruppo) REFERENCES gruppi (id)
);


CREATE TABLE amici(
	id1 INTEGER,
	id2 INTEGER,
	FOREIGN KEY (id1) REFERENCES utenti(id),
	FOREIGN KEY (id2) REFERENCES utenti(id),
	PRIMARY KEY (id1, id2)
);

CREATE TABLE membri(
	id1 INTEGER,
	id2 INTEGER,
	FOREIGN KEY (id1) REFERENCES gruppi(id),
	FOREIGN KEY (id2) REFERENCES utenti(id),
	PRIMARY KEY (id1, id2)
);



INSERT INTO utenti (id, nome, cognome, eMail, urlFoto, dataDiNascita, frase, password) VALUES (default, 'Ayrton', 'Senna', 'nsx@gmail.com', 'img/ayrt.jpg', '19/07/1995', 'Poni Potenza', '123');
INSERT INTO utenti (id, nome, cognome, eMail, urlFoto, dataDiNascita, frase, password) VALUES (default, 'Ezio', 'Greggio', 'leveline@gmail.com', 'img/ezio.jpg', '19/07/1995', 'Le velineeeeee', '123');
INSERT INTO utenti (id, nome, cognome, eMail, urlFoto, dataDiNascita, frase, password) VALUES (default, 'Stefano', 'Fenu', 'ste@gmail.com', 'img/imgSTE.jpg', '19/07/1995', 'Laureati', '123');
INSERT INTO utenti (id, nome, cognome, eMail, urlFoto, dataDiNascita, frase, password) VALUES (default, NULL , 'noName', 'noName@gmail.com', 'img/tipo.jpg', '19/07/1995', 'Non ho il nome', '123');
INSERT INTO utenti (id, nome, cognome, eMail, urlFoto, dataDiNascita, frase, password) VALUES (default, 'noSurname' , NULL, 'noSurame@gmail.com', 'img/mario.jpg', '19/07/1995', 'Non ho il conome', '123');
INSERT INTO utenti (id, nome, cognome, eMail, urlFoto, dataDiNascita, frase, password) VALUES (default, 'Senza' ,'Foto' , 'noPhoto@gmail.com', NULL, '19/07/1995', 'Non ho foto', '123');
INSERT INTO utenti (id, nome, cognome, eMail, urlFoto, dataDiNascita, frase, password) VALUES (default, 'Senza' ,'Frase' , 'noDescr@gmail.com', 'img/shumy', '19/07/1995', NULL, '123');


INSERT INTO gruppi (id, nome, urlFoto) VALUES (default, 'JDM', 'img/tipo.jpg');
INSERT INTO gruppi (id, nome, urlFoto) VALUES (default, 'Piloti', 'img/shumy.jpg');
INSERT INTO gruppi (id, nome, UrlFoto) VALUES (default, 'Techno', 'img/mario.jpg');

INSERT INTO posts (id, autore, bacheca_ut, gruppo, contenuto, tipo, allegato) VALUES (default, 1, 1, null, 'Sono un pilota', 1, null);
INSERT INTO posts (id, autore, bacheca_ut, gruppo, contenuto, tipo, allegato) VALUES (default, 2, 2, null, '30 Anni di Striscia', 3, 'img/ayrt.jpg');
INSERT INTO posts (id, autore, bacheca_ut, gruppo, contenuto, tipo, allegato) VALUES (default, 3, 3, null, 'Se passo gli esami mi laureo a febbraio!!', 2, 'https://www.youtube.com');

INSERT INTO amici (id1, id2) VALUES (1, 2);
INSERT INTO amici (id1, id2) VALUES (2, 1);
INSERT INTO amici (id1, id2) VALUES (1, 3);
INSERT INTO amici (id1, id2) VALUES (3, 1);
INSERT INTO amici (id1, id2) VALUES (2, 3);
INSERT INTO amici (id1, id2) VALUES (3, 2);

INSERT INTO membri (id1, id2) VALUES (1, 1);
INSERT INTO membri (id1, id2) VALUES (1, 2);
INSERT INTO membri (id1, id2) VALUES (1, 3);
INSERT INTO membri (id1, id2) VALUES (2, 1);
INSERT INTO membri (id1, id2) VALUES (2, 2);
INSERT INTO membri (id1, id2) VALUES (2, 3);
INSERT INTO membri (id1, id2) VALUES (3, 1);
INSERT INTO membri (id1, id2) VALUES (3, 2);
INSERT INTO membri (id1, id2) VALUES (3, 3);
















